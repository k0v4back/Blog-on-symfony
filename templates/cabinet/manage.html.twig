{% extends 'home.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
{% endblock %}

{% block body %}
    <div class="container">
        <div style="margin-top: 20px; margin-bottom: 20px">
            {% for message in app.flashes('success') %}
                <div class="alert alert-success">
                    {{ message }}
                </div>
            {% endfor %}

            <table id="dtBasicExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
                <a href="{{ path('manage_post_create') }}" class="btn btn-success">Create post</a><p></p>
                <thead>
                <tr>
                    <th class="th-sm">Title

                    </th>
                    <th class="th-sm">Content

                    </th>
                    <th class="th-sm">Status

                    </th>
                    <th class="th-sm">Author

                    </th>
                    <th class="th-sm">Time of creation

                    </th>
                    <th class="th-sm">Actions

                    </th>
                </tr>
                </thead>
                <tbody>
                {% for post in posts %}
                    <tr>
                        <td>{{ post.title }}</td>
                        <td>{{ post.content }}t</td>
                        <td>{{ post.status }}</td>
                        <td>{{ post.authorId }}</td>
                        <td>{{ post.createdAt|date("d/m/Y") }}</td>
                        <td>
                            <a href="{{ path('manage_post_delete', {'id':post.id}) }}"><i class="fas fa-times" style="color:red"></i></a> &ensp;
                            <a href="{{ path('manage_post_edit', {'id':post.id}) }}"><i class="fas fa-pen" style="color:#00cc00"></i></a> &ensp;
                            <a href="{{ path('manage_post_show', {'id':post.id}) }}"><i class="fas fa-eye" style="color: #1846db;"></i></a>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

    </div>
{% endblock %}